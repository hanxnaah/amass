sudo: false
language: ruby
rvm:
- 2.2.2
cache:
  bundler: true
  directories:
  - node_modules
services:
- mongodb
before_install:
- npm install
- export DISPLAY=:99.0 # This and following line are for Selenium
- sh -e /etc/init.d/xvfb start
before_script:
- bundle exec rake assets:precompile
script:
- bundle exec travis lint --skip-completion-check
- bundle exec rake haml-lint
- bundle exec rubocop -D
- bundle exec rake jscs
- bundle exec rake jshint
- bundle exec rake scss-lint
- bundle exec rspec
deploy:
  provider: heroku
  strategy: git
  app:
    secure: Pto2M33BA4jPMkVKeUWfTv2+xtBowGVWI37pTtwsbLieB0xqLaojdGugJ2IDBIR20QoBcwwqQWDamJkI+XqoCfZxykC+dEwA7Nj04/XWL25oXPR6l96gaHpUv7vJS45lrArCYM+B8s7i5YQ4wuKz13ouYssD3lbVr/+d7i9WgEo=
  api_key:
    secure: D8z7dRPMVAqjUdhVKMYbyFHT4Ey5g8/Cw5SALqR0oRAv8QPe/sb9lqSal+7pf0P8wvnjSXD05k0sHjnGUEu7SFXNDEi2k0FOV0/LgIkWS0dxT7w80cMFnxS59aXYV4raSpAj74mBClKxwBOAH8O+YpvTthYJSQeSpp7KG60XBDo=
